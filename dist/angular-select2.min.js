!function(){"use strict";function a(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}angular.module("rt.select2",[]).value("select2Config",{}).directive("select2",["$rootScope","$timeout","$parse","select2Config",function(b,c,d,e){var f={},g=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;return e&&angular.extend(f,e),{require:"ngModel",priority:1,restrict:"E",template:'<input type="hidden"></input>',replace:!0,link:function(b,e,h,i){var j=angular.extend({},f,b.$eval(h.select2)),k=angular.isDefined(h.multiple)||j.multiple;if(j.multiple=k,h.ngOptions){var l;if(!(l=h.ngOptions.match(g)))throw new Error("Invalid ngOptions encountered!");var m=d(l[2]||l[1]),n=d(l[7]),o=l[4]||l[6],p=d(l[2]?l[1]:o),q=l[5],r=d(h.ngModel),s=function(){for(var c=n(b),d=(q?a(c):c)||[],e=[],f=0;f<d.length;f++){var g={},h=f;q&&(h=d[f],g[q]=h),g[o]=c[h];var j=p(b,g);if(k)i.$viewValue&&i.$viewValue.indexOf(j)>-1&&e.push({id:j,text:m(b,g)});else if(i.$viewValue===j)return{id:h,text:m(b,g)}}return e};i.$render=function(){var a=s();k?e.select2("data",a):e.select2("val",a.id)},j.query=function(c){for(var d=n(b),e=(q?a(d):d)||[],f=[],g=0;g<e.length;g++){var h={},i=g;q&&(i=e[g],h[q]=i),h[o]=d[i];var j=p(b,h),k=m(b,h)||"";k.toLowerCase().indexOf(c.term.toLowerCase())>-1&&f.push({id:j,text:k})}c.callback({results:f})}}j.initSelection=function(a,b){b(s())},c(function(){e.select2(j),e.on("change",function(a){b.$apply(function(){r.assign(b,a.val)})}),i.$render()})}}}])}();